[gd_scene load_steps=30 format=2]

[ext_resource path="res://scenes/world_1.gd" type="Script" id=1]
[ext_resource path="res://Default/env.tres" type="Environment" id=2]
[ext_resource path="res://ui/minimap/minimap.tscn" type="PackedScene" id=3]
[ext_resource path="res://entities/camera.gd" type="Script" id=4]
[ext_resource path="res://entities/spaceship/player.gd" type="Script" id=5]
[ext_resource path="res://entities/spaceship/spaceship_repository.gd" type="Script" id=6]
[ext_resource path="res://entities/spaceship/spaceship_noob/spaceship_noob.tscn" type="PackedScene" id=7]
[ext_resource path="res://audio/sfx/pew.wav" type="AudioStream" id=8]
[ext_resource path="res://entities/ground/ground.tscn" type="PackedScene" id=9]
[ext_resource path="res://entities/ground/ground.gd" type="Script" id=10]
[ext_resource path="res://entities/lasers/laser_00/laser_00.tscn" type="PackedScene" id=11]
[ext_resource path="res://entities/alien/ai.gd" type="Script" id=12]
[ext_resource path="res://entities/alien/alien_repository.gd" type="Script" id=13]
[ext_resource path="res://entities/alien/alien.tscn" type="PackedScene" id=14]
[ext_resource path="res://entities/loadout/loadout.tscn" type="PackedScene" id=15]
[ext_resource path="res://audio/sfx/damage.wav" type="AudioStream" id=16]
[ext_resource path="res://particles/hit/hit.tscn" type="PackedScene" id=17]
[ext_resource path="res://particles/stars/stars_layer_1.tscn" type="PackedScene" id=18]
[ext_resource path="res://particles/stars/stars_layer_2.tscn" type="PackedScene" id=19]
[ext_resource path="res://environment/planet_0/planet.tscn" type="PackedScene" id=20]
[ext_resource path="res://images/fog.png" type="Texture" id=21]

[sub_resource type="BoxShape" id=1]

[sub_resource type="CubeMesh" id=2]

[sub_resource type="BoxShape" id=3]

[sub_resource type="BoxShape" id=4]
extents = Vector3( 17.3628, 1.9938, 15.6717 )

[sub_resource type="BoxShape" id=5]
extents = Vector3( 35, 5.15797, 35.5261 )

[sub_resource type="SpatialMaterial" id=6]
flags_transparent = true
flags_unshaded = true
params_billboard_mode = 3
particles_anim_h_frames = 1
particles_anim_v_frames = 1
particles_anim_loop = false
albedo_color = Color( 0.443137, 0.0823529, 0.0823529, 0.509804 )
albedo_texture = ExtResource( 21 )

[sub_resource type="QuadMesh" id=7]
material = SubResource( 6 )

[sub_resource type="Curve" id=8]
_data = [ Vector2( 0, 0.00609994 ), 0.0, 0.0, 0, 0, Vector2( 0.5, 1 ), 0.0, 0.0, 0, 0, Vector2( 1, 0 ), 0.0, 0.0, 0, 0 ]

[node name="world_1" type="Spatial"]
script = ExtResource( 1 )

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 0.404891, 0.600173, -0.689823, 0.182379, 0.68626, 0.70412, 0.895992, -0.410901, 0.168401, 0, 7.15272, 2.66095 )
light_color = Color( 0.709804, 0.709804, 0.709804, 1 )
light_energy = 1.5
shadow_enabled = true
shadow_bias = 16.0

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource( 2 )

[node name="minimap" parent="." instance=ExtResource( 3 )]
player_path = NodePath("../player")

[node name="camera" type="Camera" parent="."]
transform = Transform( 0.503961, 0.553087, -0.663414, 0.00546828, 0.766025, 0.642788, 0.863709, -0.327568, 0.383022, -13.3688, 12.8765, 7.313 )
projection = 1
current = true
size = 20.0
far = 139.0
script = ExtResource( 4 )
target = NodePath("../../world_1/player")

[node name="player" type="KinematicBody" parent="." groups=[
"player",
]]
collision_mask = 0
script = ExtResource( 5 )
camera_path = NodePath("../../world_1/camera")
aim_timer_path = NodePath("../../world_1/player/AimTimer")
sfx_pew_path = NodePath("pew")

[node name="spaceship_repository" type="Spatial" parent="player"]
script = ExtResource( 6 )
player_path = NodePath("../../../world_1/player")
spaceship_repository_paths = [ NodePath("spaceship_noob") ]

[node name="spaceship_noob" parent="player/spaceship_repository" instance=ExtResource( 7 )]
physics_body_path = NodePath("../../../../world_1/player")
fire_particles_path = NodePath("../../../../world_1/player/spaceship_repository/spaceship_noob/fire_particles")
speed = 8.0

[node name="CollisionShape" type="CollisionShape" parent="player"]
shape = SubResource( 1 )

[node name="AimTimer" type="Timer" parent="player"]
wait_time = 0.5

[node name="pew" type="AudioStreamPlayer" parent="player"]
stream = ExtResource( 8 )

[node name="MeshInstance" type="MeshInstance" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 0, 0 )
mesh = SubResource( 2 )
material/0 = null

[node name="ground" parent="." instance=ExtResource( 9 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.253612, 0 )
script = ExtResource( 10 )
chase_path = NodePath("../../world_1/player")

[node name="laser_00" parent="." instance=ExtResource( 11 )]
transform = Transform( -1, 0, 8.74228e-008, 0, 1, 0, -8.74228e-008, 0, -1, -4.17082, 0, 0 )

[node name="alien" type="KinematicBody" parent="." groups=[
"is_hitable",
"enemy",
]]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2.00577, 0, -30.9528 )
input_ray_pickable = false
collision_mask = 0
script = ExtResource( 12 )
sfx_hurt_path = NodePath("hurt")

[node name="alien_repository" type="Spatial" parent="alien"]
script = ExtResource( 13 )
ai_path = NodePath("../../../world_1/alien")
alien_repository_paths = [ NodePath("alien") ]

[node name="alien" parent="alien/alien_repository" instance=ExtResource( 14 )]
host_path = NodePath("../../../../world_1/alien")

[node name="CollisionShape" type="CollisionShape" parent="alien"]
shape = SubResource( 3 )

[node name="weapon" parent="alien" instance=ExtResource( 15 )]
editor/display_folded = true

[node name="pos1" type="Spatial" parent="alien/weapon"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.119888, 0, -0.794945 )

[node name="ShootTimer" type="Timer" parent="alien/weapon"]

[node name="attack_range" type="Area" parent="alien"]
editor/display_folded = true

[node name="CollisionShape" type="CollisionShape" parent="alien/attack_range"]
shape = SubResource( 4 )

[node name="attraction_range" type="Area" parent="alien"]
editor/display_folded = true

[node name="CollisionShape" type="CollisionShape" parent="alien/attraction_range"]
shape = SubResource( 5 )

[node name="too_close_range" type="Area" parent="alien"]
editor/display_folded = true
visible = false

[node name="CollisionShape" type="CollisionShape" parent="alien/too_close_range"]
shape = SubResource( 4 )

[node name="hurt" type="AudioStreamPlayer" parent="alien"]
stream = ExtResource( 16 )

[node name="hit" parent="." instance=ExtResource( 17 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.32921, 0, 0 )
angular_velocity = 0.037037

[node name="environment" type="Spatial" parent="."]

[node name="stars_layer_1" parent="environment" instance=ExtResource( 18 )]

[node name="stars_layer_2" parent="environment" instance=ExtResource( 19 )]
angular_velocity = 1.19671e-042

[node name="planet" parent="environment" instance=ExtResource( 20 )]
transform = Transform( 10, 0, 0, 0, 10, 0, 0, 0, 10, -9.38649, -11.0745, -22.2156 )

[node name="fog" type="CPUParticles" parent="environment"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 67.3681, -91.242, -76.9636 )
amount = 10
lifetime = 132.57
preprocess = 320.0
mesh = SubResource( 7 )
emission_shape = 1
emission_sphere_radius = 35.0
spread = 180.0
gravity = Vector3( 0, 0, 0 )
initial_velocity = 0.1
angular_velocity = 1.12384e-042
scale_amount = 100.0
scale_amount_random = 1.0
scale_amount_curve = SubResource( 8 )
[connection signal="i_have_spawned" from="player" to="minimap" method="_on_player_i_have_spawned"]
[connection signal="timeout" from="player/AimTimer" to="player" method="_on_AimTimer_timeout"]
[connection signal="i_have_spawned" from="alien" to="minimap" method="_on_alien_i_have_spawned"]
[connection signal="timeout" from="alien/weapon/ShootTimer" to="alien/weapon" method="_on_ShootTimer_timeout"]
[connection signal="body_entered" from="alien/attack_range" to="alien" method="_on_attack_range_body_entered"]
[connection signal="body_exited" from="alien/attack_range" to="alien" method="_on_attack_range_body_exited"]
[connection signal="body_entered" from="alien/attraction_range" to="alien" method="_on_attraction_range_body_entered"]
[connection signal="body_exited" from="alien/attraction_range" to="alien" method="_on_attraction_range_body_exited"]
[connection signal="body_entered" from="alien/too_close_range" to="alien" method="_on_too_close_range_body_entered"]
[connection signal="body_exited" from="alien/too_close_range" to="alien" method="_on_too_close_range_body_exited"]

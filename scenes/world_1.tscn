[gd_scene load_steps=25 format=2]

[ext_resource path="res://scenes/world_1.gd" type="Script" id=1]
[ext_resource path="res://ui/minimap/minimap.tscn" type="PackedScene" id=2]
[ext_resource path="res://entities/camera.gd" type="Script" id=3]
[ext_resource path="res://entities/spaceship/player.gd" type="Script" id=4]
[ext_resource path="res://entities/spaceship/spaceship_repository.gd" type="Script" id=5]
[ext_resource path="res://entities/spaceship/spaceship_noob/spaceship_noob.tscn" type="PackedScene" id=6]
[ext_resource path="res://audio/sfx/pew.wav" type="AudioStream" id=7]
[ext_resource path="res://entities/ground/ground.tscn" type="PackedScene" id=8]
[ext_resource path="res://entities/ground/ground.gd" type="Script" id=9]
[ext_resource path="res://entities/lasers/laser_00/laser_00.tscn" type="PackedScene" id=10]
[ext_resource path="res://Default/default_env.tres" type="Environment" id=11]
[ext_resource path="res://entities/alien/ai.gd" type="Script" id=12]
[ext_resource path="res://entities/alien/alien_repository.gd" type="Script" id=13]
[ext_resource path="res://entities/alien/alien.tscn" type="PackedScene" id=14]
[ext_resource path="res://entities/loadout/loadout.tscn" type="PackedScene" id=15]
[ext_resource path="res://audio/sfx/damage.wav" type="AudioStream" id=16]
[ext_resource path="res://particles/hit/hit.tscn" type="PackedScene" id=17]

[sub_resource type="CubeMesh" id=1]

[sub_resource type="SpatialMaterial" id=2]
albedo_color = Color( 1, 0, 0, 1 )

[sub_resource type="BoxShape" id=3]

[sub_resource type="CubeMesh" id=4]

[sub_resource type="BoxShape" id=5]

[sub_resource type="BoxShape" id=6]
extents = Vector3( 17.3628, 1.9938, 15.6717 )

[sub_resource type="BoxShape" id=7]
extents = Vector3( 35, 5.15797, 35.5261 )

[node name="world_1" type="Spatial"]
script = ExtResource( 1 )

[node name="minimap" parent="." instance=ExtResource( 2 )]
player_path = NodePath("../player")

[node name="world_borders" type="Spatial" parent="."]
editor/display_folded = true

[node name="border_1" type="Spatial" parent="world_borders"]
editor/display_folded = true
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 50.8809, 37.506, 0, 0 )

[node name="MeshInstance" type="MeshInstance" parent="world_borders/border_1"]
mesh = SubResource( 1 )
material/0 = SubResource( 2 )

[node name="border_2" type="Spatial" parent="world_borders"]
editor/display_folded = true
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 50.8809, -34.6887, 0, 0 )

[node name="MeshInstance" type="MeshInstance" parent="world_borders/border_2"]
mesh = SubResource( 1 )
material/0 = SubResource( 2 )

[node name="border_3" type="Spatial" parent="world_borders"]
editor/display_folded = true
transform = Transform( -4.37114e-008, 0, 50.8809, 0, 1, 0, -1, 0, -2.22407e-006, 1.53181, 0, 38.3951 )

[node name="MeshInstance" type="MeshInstance" parent="world_borders/border_3"]
mesh = SubResource( 1 )
material/0 = SubResource( 2 )

[node name="border_4" type="Spatial" parent="world_borders"]
editor/display_folded = true
transform = Transform( -4.37114e-008, 0, 50.8809, 0, 1, 0, -1, 0, -2.22407e-006, 1.53181, 0, -39.5127 )

[node name="MeshInstance" type="MeshInstance" parent="world_borders/border_4"]
mesh = SubResource( 1 )
material/0 = SubResource( 2 )

[node name="camera" type="Camera" parent="."]
transform = Transform( 0.503961, 0.553087, -0.663414, 0.00546828, 0.766025, 0.642788, 0.863709, -0.327568, 0.383022, -13.3688, 12.8765, 7.313 )
projection = 1
current = true
size = 20.0
far = 139.0
script = ExtResource( 3 )
target = NodePath("../../world_1/player")

[node name="player" type="KinematicBody" parent="." groups=[
"player",
]]
editor/display_folded = true
collision_mask = 0
script = ExtResource( 4 )
camera_path = NodePath("../../world_1/camera")
aim_timer_path = NodePath("../../world_1/player/AimTimer")
sfx_pew_path = NodePath("pew")

[node name="spaceship_repository" type="Spatial" parent="player"]
script = ExtResource( 5 )
player_path = NodePath("../../../world_1/player")
spaceship_repository_paths = [ NodePath("spaceship_noob") ]

[node name="spaceship_noob" parent="player/spaceship_repository" instance=ExtResource( 6 )]
physics_body_path = NodePath("../../../../world_1/player")
fire_particles_path = NodePath("../../../../world_1/player/spaceship_repository/spaceship_noob/fire_particles")
speed = 8.0

[node name="CollisionShape" type="CollisionShape" parent="player"]
shape = SubResource( 3 )

[node name="AimTimer" type="Timer" parent="player"]
wait_time = 0.5

[node name="pew" type="AudioStreamPlayer" parent="player"]
stream = ExtResource( 7 )

[node name="MeshInstance" type="MeshInstance" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 0, 0 )
mesh = SubResource( 4 )
material/0 = null

[node name="ground" parent="." instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.253612, 0 )
script = ExtResource( 9 )
chase_path = NodePath("../../world_1/player")

[node name="laser_00" parent="." instance=ExtResource( 10 )]
transform = Transform( -1, 0, 8.74228e-008, 0, 1, 0, -8.74228e-008, 0, -1, -4.17082, 0, 0 )

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource( 11 )

[node name="alien" type="KinematicBody" parent="." groups=[
"enemy",
"is_hitable",
]]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2.00577, 0, -30.9528 )
input_ray_pickable = false
collision_mask = 0
script = ExtResource( 12 )
sfx_hurt_path = NodePath("hurt")

[node name="alien_repository" type="Spatial" parent="alien"]
editor/display_folded = true
script = ExtResource( 13 )
ai_path = NodePath("../../../world_1/alien")
alien_repository_paths = [ NodePath("alien") ]

[node name="alien" parent="alien/alien_repository" instance=ExtResource( 14 )]
host_path = NodePath("../../../../world_1/alien")

[node name="CollisionShape" type="CollisionShape" parent="alien"]
shape = SubResource( 5 )

[node name="weapon" parent="alien" instance=ExtResource( 15 )]
editor/display_folded = true

[node name="pos1" type="Spatial" parent="alien/weapon"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.119888, 0, -0.794945 )

[node name="ShootTimer" type="Timer" parent="alien/weapon"]

[node name="attack_range" type="Area" parent="alien"]
editor/display_folded = true

[node name="CollisionShape" type="CollisionShape" parent="alien/attack_range"]
shape = SubResource( 6 )

[node name="attraction_range" type="Area" parent="alien"]
editor/display_folded = true

[node name="CollisionShape" type="CollisionShape" parent="alien/attraction_range"]
shape = SubResource( 7 )

[node name="too_close_range" type="Area" parent="alien"]
editor/display_folded = true
visible = false

[node name="CollisionShape" type="CollisionShape" parent="alien/too_close_range"]
shape = SubResource( 6 )

[node name="hurt" type="AudioStreamPlayer" parent="alien"]
stream = ExtResource( 16 )

[node name="hit" parent="." instance=ExtResource( 17 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.32921, 0, 0 )
[connection signal="i_have_spawned" from="player" to="minimap" method="_on_player_i_have_spawned"]
[connection signal="timeout" from="player/AimTimer" to="player" method="_on_AimTimer_timeout"]
[connection signal="i_have_spawned" from="alien" to="minimap" method="_on_alien_i_have_spawned"]
[connection signal="timeout" from="alien/weapon/ShootTimer" to="alien/weapon" method="_on_ShootTimer_timeout"]
[connection signal="body_entered" from="alien/attack_range" to="alien" method="_on_attack_range_body_entered"]
[connection signal="body_exited" from="alien/attack_range" to="alien" method="_on_attack_range_body_exited"]
[connection signal="body_entered" from="alien/attraction_range" to="alien" method="_on_attraction_range_body_entered"]
[connection signal="body_exited" from="alien/attraction_range" to="alien" method="_on_attraction_range_body_exited"]
[connection signal="body_entered" from="alien/too_close_range" to="alien" method="_on_too_close_range_body_entered"]
[connection signal="body_exited" from="alien/too_close_range" to="alien" method="_on_too_close_range_body_exited"]
